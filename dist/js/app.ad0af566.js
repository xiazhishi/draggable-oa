(function(){"use strict";var t={4025:function(t,e,i){var o=i(6369),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},l=[],n={name:"App",components:{}},a=n,r=i(3736),c=(0,r.Z)(a,s,l,!1,null,null,null),d=c.exports,u=i(8499),p=i.n(u);i(560);const h={getContextPath:function(t){if(t=t||"",!t||t.startsWith("/")){let e=window["getContextPath"];if(e)return e()+t}return t},getHomePath:function(){return this.getContextPath("/")},getRootUrl:function(t){let e=window.location,i=t&&t.protocol||e.protocol,o=t&&t.hostname||e.hostname,s=t&&t.port||e.port,l=[i,"//",o];if(s)switch(i){case"http":80!==s&&l.push(":",s);break;case"https":443!==s&&l.push(":",s);break;default:l.push(":",s);break}return l.join("")},getHostUrl:function(t){return this.getRootUrl(t)+this.getContextPath()}};var m=h,f=i(3822),g=i(9851),v={namespaced:!0,state:{chooseGridKey:"",chooseElementKey:"",elementMargin:10},mutations:{updateGridKey(t,e){t.chooseGridKey=e,t.chooseElementKey=""},updateElementKey(t,e){t.chooseElementKey=e,t.chooseGridKey=""},updateElementMargin(t,e){t.elementMargin=e}},actions:{},getters:{}};o["default"].use(f.ZP);var b=new f.ZP.Store({modules:{formDesign:v},mutations:{resetStore(t){Object.keys(t).forEach((e=>{t[e]=(0,g.Z)(window.SITE_CONFIG["storeState"][e])}))}},strict:!1}),y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"edit"},[e("div",{staticClass:"group"},[e("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.submit}},[t._v("提交周报")])],1),e("div",{staticClass:"form"},[e("el-form",{attrs:{model:t.form,"label-width":"100px","label-position":"left"}},[e("div",{staticClass:"drag-content"},[e("el-form-item",{attrs:{label:"内容："}},[e("drag-area",{ref:"drag"})],1)],1)])],1)])},C=[],k=i(8914),w=i(2269),x=i.n(w),E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"drag-area"},[e("el-row",[e("el-col",{staticStyle:{width:"319px","flex-shrink":"0"}},[e("main-sidebar",{on:{"set-color-to-all":t.setColorToAll,clear:t.clear}})],1),e("el-col",{staticStyle:{flex:"1","border-left":"1px solid #ccc"},attrs:{id:"form-center"}},[e("div",{staticClass:"header"},[e("div",{staticClass:"name"}),e("div",{staticClass:"groups"},[e("el-button",{attrs:{size:"mini"},on:{click:t.toPreview}},[t._v("预览")]),e("el-button",{attrs:{size:"mini"},on:{click:t.showDialog}},[t._v("元素边距")]),e("el-button",{attrs:{size:"mini"},on:{click:function(e){t.clearShow=!0}}},[t._v("清空布局")])],1)]),e("main-content",{ref:"panel",attrs:{"local-list":t.localList}})],1)],1),e("el-dialog",{attrs:{title:"元素边距设置",visible:t.dialogVisible,"append-to-body":!0,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("span",[e("el-form",{attrs:{"label-width":"100px"}},[e("el-form-item",{attrs:{label:"元素边距"}},[e("el-input",{model:{value:t.elementMargin,callback:function(e){t.elementMargin=e},expression:"elementMargin"}},[e("template",{slot:"append"},[t._v("px")])],2)],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){e.stopPropagation(),t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.changeMargin.apply(null,arguments)}}},[t._v("确 定")])],1)]),e("el-dialog",{attrs:{title:"确认信息",visible:t.clearShow,"append-to-body":!0,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(e){t.clearShow=e}}},[e("span",[t._v("确认清空布局吗？")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){e.stopPropagation(),t.clearShow=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.clear.apply(null,arguments)}}},[t._v("确 定")])],1)])],1)},Z=[],I=function(){var t=this,e=t._self._c;return e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"用户管理",name:"portalControl"}},[e("div",{staticClass:"tabs-content"},[e("el-collapse",{staticStyle:{width:"100%"},attrs:{value:["1","2","3"]}},[e("el-collapse-item",{attrs:{title:"布局控件",name:"3"}},[e("draggable",{staticClass:"drag",attrs:{list:t.layout.child,group:{name:"form-design",put:!1,pull:"clone"},ghostClass:"ghost",move:t.move},on:{change:t.log,add:t.add1}},t._l(t.layout.child,(function(i,o){return e("div",{key:o,staticClass:"left-cell",attrs:{title:i.title}},[e("i",{class:i.icon}),e("span",{staticClass:"right"},[t._v(t._s(i.title))])])})),0)],1),e("el-collapse-item",{attrs:{title:"元素控件",name:"1"}},[e("draggable",{staticClass:"drag",attrs:{list:t.base.child,group:{name:"form-design-inner",pull:"clone",put:!1},move:t.elementMove}},t._l(t.base.child,(function(i,o){return e("div",{key:o,staticClass:"left-cell",attrs:{title:i.title}},[e("i",{class:i.icon}),e("div",{staticClass:"right"},[t._v(t._s(i.title))])])})),0)],1)],1)],1)]),e("el-tab-pane",{attrs:{label:"布局属性",name:"layout"}},[t.element&&"grid"===t.element.code?e("div",[e("div",{staticClass:"setting-content"},[e("div",{staticClass:"title"},[t._v("列配置项（每行占比总和最多为24）")]),t._l(t.element.cols,(function(i,o){return e("div",{key:o,staticClass:"setting-line"},[e("span",{staticClass:"index"},[t._v("第"+t._s(o+1)+"列")]),e("el-input-number",{attrs:{min:1,max:24,label:"列占比",size:"small"},model:{value:i.span,callback:function(e){t.$set(i,"span",e)},expression:"item.span"}}),t.element.cols.length<4?e("i",{staticClass:"el-icon-circle-plus",staticStyle:{color:"#17B3A3"},attrs:{title:"插入一列"},on:{click:function(e){return t.addOption(o)}}}):t._e(),e("i",{staticClass:"el-icon-circle-close",staticStyle:{color:"red"},attrs:{title:"删除一列"},on:{click:function(e){return t.subOption(o)}}})],1)}))],2),e("div",{staticClass:"click-content"},[e("div",{staticClass:"title sec-title"},[t._v("一键设置布局比例")]),e("thumbnail",{attrs:{cols:t.element.cols},on:{"rectangle-click":t.rectangleClick}})],1)]):e("div",{staticClass:"please-choose",staticStyle:{"text-align":"center"}},[t._v(" 请选择一个门户布局设置 ")])]),e("el-tab-pane",{attrs:{label:"元素属性",name:"element"}},[t.element&&"element"===t.element.code?e("div",{staticClass:"element-content"},[e("el-form",{ref:"form",attrs:{model:t.element.options,"label-width":"100px","label-position":"left"}},[e("el-form-item",{attrs:{label:"标题"}},[e("el-input",{attrs:{size:"mini"},model:{value:t.element.options.title,callback:function(e){t.$set(t.element.options,"title",e)},expression:"element.options.title"}})],1),e("el-form-item",{attrs:{label:"元素头"}},[e("el-checkbox",{model:{value:t.element.options.hiddenTitle,callback:function(e){t.$set(t.element.options,"hiddenTitle",e)},expression:"element.options.hiddenTitle"}},[t._v("隐藏")])],1),e("el-form-item",{attrs:{label:"边框"}},[e("el-checkbox",{model:{value:t.element.options.border,callback:function(e){t.$set(t.element.options,"border",e)},expression:"element.options.border"}},[t._v("隐藏")])],1),e("el-form-item",{attrs:{label:"主题背景色"}},[e("el-color-picker",{attrs:{predefine:t.predefineColors,size:"mini"},model:{value:t.element.options.backgroundColor,callback:function(e){t.$set(t.element.options,"backgroundColor",e)},expression:"element.options.backgroundColor"}})],1),e("el-form-item",{attrs:{label:"主题文字颜色"}},[e("el-color-picker",{attrs:{predefine:t.predefineColors,size:"mini"},model:{value:t.element.options.color,callback:function(e){t.$set(t.element.options,"color",e)},expression:"element.options.color"}})],1),e("el-form-item",{attrs:{label:"统一主题颜色"}},[e("el-checkbox",{on:{change:t.isNeedChange},model:{value:t.changeColor,callback:function(e){t.changeColor=e},expression:"changeColor"}},[t._v("统一")])],1),"image"===t.element.type?e("el-form-item",{attrs:{label:"所属目录"}},[e("el-button",{attrs:{size:"mini"},on:{click:function(e){t.sourceVisible=!0}}},[t._v("选择来源")])],1):t._e(),"echarts"===t.element.type?e("el-form-item",{attrs:{label:"所属目录"}},[e("el-button",{attrs:{size:"mini"},on:{click:function(e){t.echartsVisible=!0}}},[t._v("选择来源")])],1):t._e(),e("el-form-item",{attrs:{label:"元素高度"}},[e("el-radio-group",{model:{value:t.element.options.isAutoHeight,callback:function(e){t.$set(t.element.options,"isAutoHeight",e)},expression:"element.options.isAutoHeight"}},[e("el-radio",{attrs:{label:!0}},[t._v("自动高度")]),e("el-radio",{attrs:{label:!1}},[t._v("自定义")])],1)],1),e("el-form-item",{attrs:{label:""}},[t.element.options.isAutoHeight?t._e():e("el-input",{attrs:{size:"mini"},model:{value:t.element.options.height,callback:function(e){t.$set(t.element.options,"height",e)},expression:"element.options.height"}},[e("template",{slot:"append"},[t._v("px")])],2)],1),e("el-form-item",{attrs:{label:"纵向滚动"}},[e("el-checkbox",{model:{value:t.element.options.overflowShow,callback:function(e){t.$set(t.element.options,"overflowShow",e)},expression:"element.options.overflowShow"}},[t._v("允许")])],1)],1)],1):e("div",{staticClass:"please-choose",staticStyle:{"text-align":"center"}},[t._v("请选择一个元素")]),t.sourceVisible?e("imgSource",{attrs:{list:t.element.options.sourceList},on:{confirm:t.changeImg},model:{value:t.sourceVisible,callback:function(e){t.sourceVisible=e},expression:"sourceVisible"}}):t._e(),t.echartsVisible?e("echartsSource",{attrs:{obj:t.element.options.source},on:{confirm:t.changeEcharts},model:{value:t.echartsVisible,callback:function(e){t.echartsVisible=e},expression:"echartsVisible"}}):t._e()],1)],1)},S=[],P=i(6983),V=i.n(P),L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"thumbnail"},[t.cols&&t.cols.length?e("div",t._l(t.activeList,(function(i,o){return e("div",{key:o,staticClass:"line"},[e("div",{staticClass:"title"},[t._v(t._s(i.join(":")))]),e("div",{staticClass:"rectangle",class:{active:t.calcRate(i)===t.activeRate()&&t.isColsAll},on:{click:function(e){return t.rectangleClick(i)}}},t._l(i,(function(o,s){return e("div",{key:s,staticClass:"cell",style:{width:o/t.totalLength(i)*100+"%"}})})),0)])})),0):t._e()])},G=[],A={name:"thumbnailVue",props:{cols:{type:Array,default:()=>[]}},data(){return{oneColumnsList:[[1]],twoColumnsList:[[1,1],[1,2],[2,1],[7,5],[5,7],[1,3],[3,1]],threeColumnsList:[[1,1,1],[1,1,4],[4,1,1],[1,4,1],[5,5,2],[5,2,5],[2,5,5]],fourColumnsList:[[1,1,1,1],[1,1,1,3],[1,1,3,1],[1,3,1,1],[3,1,1,1]]}},computed:{activeList(){return 2===this.cols.length?this.twoColumnsList:3===this.cols.length?this.threeColumnsList:4===this.cols.length?this.fourColumnsList:1===this.cols.length?this.oneColumnsList:[]},isColsAll(){let t=0;return this.cols.forEach((e=>{t+=e.span})),24===t}},methods:{gcd(t,e){return e?this.gcd(e,t%e):t},gcdOfArray(t){return t.reduce(((t,e)=>this.gcd(t,e)))},simplifyArray(t){const e=this.gcdOfArray(t);return t.map((t=>t/e))},activeRate(){if(!this.cols&&!this.cols.length)return"";let t=[];const e=this.cols.map((t=>t.span));this.cols.forEach((i=>{t.push(i.span/this.totalLength(e)*24)}));const i=this.simplifyArray(t);return i.join(":")},totalLength(t){return t?t.reduce(((t,e)=>t+e)):0},rectangleClick(t){this.$emit("rectangle-click",t)},calcRate(t){return t||t.length?t.join(":"):""}}},O=A,R=(0,r.Z)(O,L,G,!1,null,"bc08a0f8",null),N=R.exports,T=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.value,"show-close":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(e){t.value=e}}},[e("div",{staticClass:"self-title",attrs:{slot:"title"},slot:"title"},[e("span",[t._v("搜索相册")]),e("i",{staticClass:"el-icon-close",on:{click:t.cancel}})]),e("div",{staticClass:"list"},[e("div",{staticClass:"main"},[e("el-select",{attrs:{placeholder:"选择相册",multiple:"",filterable:""},model:{value:t.choose,callback:function(e){t.choose=e},expression:"choose"}},t._l(t.imgSrcList,(function(t){return e("el-option",{key:t.code,attrs:{label:t.title,value:t.code}})})),1)],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return e.stopPropagation(),t.cancel.apply(null,arguments)}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.confirm.apply(null,arguments)}}},[t._v("确 定")])],1)])},B=[],W=i.p+"img/table.613c780d.png",z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk2QkI4RkE3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk2QkI4Rjk3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzk3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyN0E3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WHowqAAAXNElEQVR42uxda4xd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",M={name:"imgSource",props:{value:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}}},data(){return{table:W,logo:z,imgSrcList:[{code:"banner",title:"首页banner相册",url:[W]},{code:"logo",title:"首页logo相册",url:[z]}],text:"",choose:[]}},methods:{cancel(){this.$emit("input",!1)},confirm(){const t=[];this.choose.forEach((e=>{this.imgSrcList.forEach((i=>{e===i.code&&t.push(i)}))})),this.$emit("confirm",t),this.$emit("input",!1)}},mounted(){this.list.length&&(this.choose=this.list.map((t=>t.code)))}},D=M,j=(0,r.Z)(D,T,B,!1,null,"c6a84a0e",null),Q=j.exports,K=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.value,"show-close":!1,"append-to-body":!0,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(e){t.value=e}}},[e("div",{staticClass:"self-title",attrs:{slot:"title"},slot:"title"},[e("span",[t._v("搜索指标")]),e("i",{staticClass:"el-icon-close",on:{click:t.cancel}})]),e("div",{staticClass:"list"},[e("div",{staticClass:"main"},[e("el-select",{attrs:{placeholder:"选择指标",filterable:""},model:{value:t.choose,callback:function(e){t.choose=e},expression:"choose"}},t._l(t.echartsSrcList,(function(t){return e("el-option",{key:t.code,attrs:{label:t.option.title.text,value:t.code}})})),1)],1)]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return e.stopPropagation(),t.cancel.apply(null,arguments)}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.confirm.apply(null,arguments)}}},[t._v("确 定")])],1)])},U=[],J={name:"imgSource",props:{value:{type:Boolean,default:!1},obj:{type:Object,default:function(){return{}}}},data(){return{echartsSrcList:[{code:"test",option:{title:{text:"ECharts 入门示例"},tooltip:{},legend:{data:["销量"]},xAxis:{data:["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:{},series:[{name:"销量",type:"bar",data:[5,20,36,10,10,20]}]}},{code:"zhexian",option:{title:{text:"折线图"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:"line"}]}}],text:"",choose:""}},methods:{cancel(){this.$emit("input",!1)},confirm(){const t={};this.echartsSrcList.forEach((e=>{e.code===this.choose&&(t.code=e.code,t.option=e.option)})),this.$emit("confirm",t),this.$emit("input",!1)}},mounted(){this.choose=[],this.obj.code&&(this.choose=this.obj.code)}},Y=J,_=(0,r.Z)(Y,K,U,!1,null,"0e8132fe",null),H=_.exports,X=i(3029),F={components:{draggable:V(),thumbnail:N,imgSource:Q,echartsSource:H},data(){return{changeColor:!1,sourceVisible:!1,echartsVisible:!1,activeName:"portalControl",element:null,base:{title:"元素控件",child:[{title:"富文本",type:"richText",icon:"el-icon-edit-outline",value:"",code:"element",options:{title:"富文本",hiddenTitle:!0,backgroundColor:"#fff",color:"#333",height:260,isAutoHeight:!1,overflowShow:!0,richTextValue:"",border:!0},isChoose:!1,key:(0,X.Z)()},{title:"指标",type:"echarts",icon:"el-icon-s-data",value:"",code:"element",options:{title:"指标",hiddenTitle:!0,backgroundColor:"#fff",color:"#333",height:260,isAutoHeight:!1,overflowShow:!0,source:{},border:!0},key:(0,X.Z)()},{title:"图片",type:"image",icon:"el-icon-picture",value:"",code:"element",options:{title:"图片",hiddenTitle:!0,backgroundColor:"#fff",color:"#333",height:260,isAutoHeight:!1,overflowShow:!0,sourceList:[],border:!0},key:(0,X.Z)()}]},layout:{title:"布局控件",child:[{title:"一列",type:"grid",icon:"el-icon-s-grid",cols:[{span:24,list:[]}],code:"grid",key:(0,X.Z)()},{title:"两列",type:"grid",icon:"el-icon-s-grid",cols:[{span:12,list:[]},{span:12,list:[]}],code:"grid",key:(0,X.Z)()},{title:"三列",type:"grid",icon:"el-icon-s-grid",code:"grid",cols:[{span:8,list:[]},{span:8,list:[]},{span:8,list:[]}],key:(0,X.Z)()},{title:"四列",type:"grid",icon:"el-icon-s-grid",code:"grid",cols:[{span:6,list:[]},{span:6,list:[]},{span:6,list:[]},{span:6,list:[]}],key:(0,X.Z)()}],key:(0,X.Z)()},predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","#c7158577","#000000"]}},methods:{log(t){console.log(t,"log"),this.init()},add1(t){console.log(t,"add")},elementMove(t){if("left-cell"===t.related.className)return!1},init(){this.layout={title:"布局控件",child:[{title:"一列",type:"grid",icon:"el-icon-s-grid",code:"grid",cols:[{span:24,list:[]}],key:(0,X.Z)()},{title:"两列",type:"grid",icon:"el-icon-s-grid",code:"grid",cols:[{span:12,list:[]},{span:12,list:[]}],key:(0,X.Z)()},{title:"三列",type:"grid",icon:"el-icon-s-grid",code:"grid",cols:[{span:8,list:[]},{span:8,list:[]},{span:8,list:[]}],key:(0,X.Z)()},{title:"四列",type:"grid",icon:"el-icon-s-grid",code:"grid",cols:[{span:6,list:[]},{span:6,list:[]},{span:6,list:[]},{span:6,list:[]}],key:(0,X.Z)()}],key:(0,X.Z)()},this.base={title:"元素控件",child:[{title:"富文本",type:"richText",icon:"el-icon-edit-outline",value:"",code:"element",options:{title:"富文本",hiddenTitle:!0,backgroundColor:"#fff",color:"#333",height:260,isAutoHeight:!1,overflowShow:!0,richTextValue:"",border:!0},isChoose:!1,key:(0,X.Z)()},{title:"指标",type:"echarts",icon:"el-icon-s-data",value:"",code:"element",options:{title:"指标",hiddenTitle:!0,backgroundColor:"#fff",color:"#333",height:260,isAutoHeight:!1,overflowShow:!0,source:{},border:!0},key:(0,X.Z)()},{title:"图片",type:"image",icon:"el-icon-picture",value:"",code:"element",options:{title:"图片",hiddenTitle:!0,backgroundColor:"#fff",color:"#333",height:260,isAutoHeight:!1,overflowShow:!0,sourceList:[],border:!0},key:(0,X.Z)()}]}},move(t){return"cell"===t.related.className||"left-cell"!==t.related.className&&void 0},handleClick(t,e){console.log(t,e)},subOption(t){this.element.cols.splice(t,1),this.element.cols.forEach((t=>{t.span=24/this.element.cols.length}))},addOption(t){this.element.cols.splice(t+1,0,{span:6,list:[]}),this.element.cols.forEach((t=>{t.span=24/this.element.cols.length}))},rectangleClick(t){const e=t.reduce(((t,e)=>t+e),0);this.element.cols.forEach(((i,o)=>{i.span=t[o]/e*24}))},setColorToAll(){this.element&&this.$emit("set-color-to-all",{backgroundColor:this.element.options.backgroundColor,color:this.element.options.color})},changeImg(t){this.element.options.sourceList=t},changeEcharts(t){this.element.options.source=t},isNeedChange(t){t&&this.setColorToAll()}},mounted(){this.$EventBus.$on("chooseElement",(t=>{this.element=t,"element"===t.code&&(this.activeName="element",this.changeColor=!1)})),this.$EventBus.$on("chooseGrid",(t=>{this.element=t,this.activeName="layout"})),this.$EventBus.$on("addCell",(()=>{this.init()})),this.$EventBus.$on("updateGrid",(t=>{this.element=t}))},beforeDestroy(){this.$EventBus.$off("chooseElement"),this.$EventBus.$off("chooseGrid"),this.$EventBus.$off("addCell")}},q=F,$=(0,r.Z)(q,I,S,!1,null,"0951fd38",null),tt=$.exports,et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("draggable",{staticClass:"dragArea dragArea-empty",attrs:{list:t.list,group:{name:"form-design"},animation:"200",handle:".mover",ghostClass:"ghost"},on:{change:t.log}},[t._l(t.list,(function(i,o){return e("Cell",{key:o,attrs:{data:i,index:o,list:t.list},on:{"choose-grid":t.chooseGrid,"delete-panel":function(e){return t.deletePanel(o)},syncList:t.syncList,update:t.update,"add-grid":t.addGrid}})})),t.list.length?t._e():e("el-empty",{attrs:{description:"拖拽布局控件到这里"}})],2),e("el-dialog",{attrs:{title:"预览",visible:t.previewVisible,"append-to-body":!0,"close-on-click-modal":!1,"custom-class":"preview-dialog",width:"70%"},on:{"update:visible":function(e){t.previewVisible=e}}},[e("div",[t.previewVisible?e("preview",{attrs:{propsList:t.list}}):t._e()],1)])],1)},it=[],ot=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cell",class:{active:t.chooseGridKey===t.data.key},on:{click:t.chooseGrid}},[e("div",{staticClass:"mover"},[e("el-popover",{attrs:{placement:"bottom",title:"插入",width:"150","popper-class":"add-group-popover",trigger:"click"},model:{value:t.popoverShow,callback:function(e){t.popoverShow=e},expression:"popoverShow"}},[e("i",{staticClass:"el-icon-circle-plus-outline",attrs:{slot:"reference"},on:{click:function(t){t.stopPropagation()}},slot:"reference"}),e("div",{staticClass:"add-group"},[e("div",{on:{click:function(e){return t.addGrid(t.index,1)}}},[e("i",{staticClass:"el-icon-s-grid"}),t._v("一列布局行")]),e("div",{on:{click:function(e){return t.addGrid(t.index,2)}}},[e("i",{staticClass:"el-icon-s-grid"}),t._v("二列布局行")]),e("div",{on:{click:function(e){return t.addGrid(t.index,3)}}},[e("i",{staticClass:"el-icon-s-grid"}),t._v("三列布局行")]),e("div",{on:{click:function(e){return t.addGrid(t.index,4)}}},[e("i",{staticClass:"el-icon-s-grid"}),t._v("四列布局行")])])]),e("i",{staticClass:"el-icon-circle-close",on:{click:function(e){e.stopPropagation(),t.dialogVisible=!0}}})],1),e("div",[e("grid-panel",{attrs:{"prop-data":t.data,"prop-key":t.data.key},on:{syncList:t.syncList,update:t.update}})],1),e("el-dialog",{attrs:{title:"确认信息",visible:t.dialogVisible,"append-to-body":!0,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("span",[t._v("确定要删除该布局吗？")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){e.stopPropagation(),t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.deletePanel.apply(null,arguments)}}},[t._v("确 定")])],1)])],1)},st=[],lt=function(){var t=this,e=t._self._c;return e("el-row",{attrs:{gutter:10}},t._l(t.data.cols,(function(i,o){return e("el-col",{key:o,staticClass:"col",attrs:{span:i.span}},[e("draggable",{staticClass:"dragArea",class:{"empty-drag":!i.list.length},attrs:{disabled:t.disabled,list:i.list,group:{name:"form-design-inner"},animation:"200"},on:{change:t.log}},[t._l(i.list,(function(s,l){return e("GridCell",{key:l,attrs:{data:s,"prop-key":t.propKey,"prop-index":o},on:{syncList:t.syncList,changeDisabled:t.changeDisabled,"delete-item":function(e){return t.deleteItem(i,l)}}})})),i.list.length?t._e():e("div",{staticClass:"empty",on:{click:function(t){t.stopPropagation()}}},[e("span",[t._v("拖拽元素控件到虚线框内")])])],2)],1)})),1)},nt=[],at=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cell",class:{"more-left":t.data.options.hiddenTitle&&"richText"===t.data.type},style:{"margin-bottom":t.elementMargin+"px",border:t.data.options.border?"none":"1px solid rgba(0, 0, 0, 0.1)"},on:{click:function(e){return e.stopPropagation(),t.chooseElement.apply(null,arguments)}}},[e("div",[t.data.options.hiddenTitle?t._e():e("div",{staticClass:"grey",style:{backgroundColor:t.data.options.backgroundColor,color:t.data.options.color},on:{mouseenter:t.canMove}},[e("span",[t._v(t._s(t.data.options.title))])]),e("div",{staticClass:"always-close",class:{"back-trans":t.data.key===t.chooseElementKey,"to-right":t.data.options.hiddenTitle&&"richText"===t.data.type},style:{color:t.data.options.color}},[e("i",{staticClass:"el-icon-close",on:{click:function(e){e.stopPropagation(),t.dialogVisible=!0}}})]),t.data.options.hiddenTitle&&"richText"===t.data.type?e("div",{staticClass:"drag-hand",style:{color:t.data.options.color},on:{mouseenter:function(e){return t.input(!1)}}},[e("i",{staticClass:"el-icon-rank"})]):t._e(),e("div",{staticClass:"content",style:{height:t.data.options.isAutoHeight?"fit-content":t.data.options.height+"px",overflow:t.data.options.overflowShow?"auto":"hidden"}},["richText"===t.data.type?e("rich-text",{attrs:{options:t.data.options},on:{input:t.input}}):t._e(),"echarts"===t.data.type?e("echarts-vue",{attrs:{options:t.data.options}}):t._e(),"image"===t.data.type?e("image-vue",{attrs:{options:t.data.options}}):t._e(),"card"===t.data.type?e("card"):t._e()],1)]),e("el-dialog",{attrs:{title:"确认信息",visible:t.dialogVisible,"append-to-body":!0,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("span",[t._v("确定要移除该元素吗？")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){e.stopPropagation(),t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.deleteItem.apply(null,arguments)}}},[t._v("确 定")])],1)]),t.data.key===t.chooseElementKey?e("div",{staticClass:"active"}):t._e()],1)},rt=[],ct=function(){var t=this,e=t._self._c;return t.options.sourceList.length?e("div",{staticClass:"container"},[e("div",{staticClass:"image"},t._l(t.options.sourceList,(function(i,o){return e("div",{key:o},t._l(i.url,(function(t,i){return e("div",{key:i},[e("img",{attrs:{src:t,alt:""}})])})),0)})),0)]):t._e()},dt=[],ut={name:"imageVue",props:{options:{type:Object,default:()=>{}}}},pt=ut,ht=(0,r.Z)(pt,ct,dt,!1,null,"e86e09f2",null),mt=ht.exports,ft=function(){var t=this,e=t._self._c;return e("div",{ref:"box",staticClass:"box",class:{default:t.options.isAutoHeight}})},gt=[],vt=i(9043),bt={name:"echartsVue",props:{options:{type:Object,default:()=>{}}},methods:{initChart(){let t=vt.JE(this.$refs.box);null!==t&&void 0!==t&&t.dispose();let e=vt.S1(this.$refs.box),i=this.options.source.option;e.setOption(i)}},data(){return{oldCode:""}},watch:{options:{handler(t){t.source.code&&t.source.code!==this.oldCode&&(this.oldCode=t.source.code,this.initChart())},deep:!0}},created(){this.options.source.code&&setTimeout((()=>{this.initChart()}),500)}},yt=bt,Ct=(0,r.Z)(yt,ft,gt,!1,null,"71b3c1ae",null),kt=Ct.exports,wt=function(){var t=this,e=t._self._c;return e("div",{ref:"richText",staticClass:"rich-text",class:[t.options.isAutoHeight?"default":"set"],on:{mouseenter:function(e){return t.input(!0)},mouseleave:function(e){return t.input(!1)}}},[e("div",{staticClass:"view",style:{overflow:t.options.overflowShow?"auto":"hidden"},domProps:{innerHTML:t._s(t.options.richTextValue)}})])},xt=[],Et={name:"richText",components:{},props:{options:{type:Object,default:()=>{}},isView:{type:Boolean,default:!1}},methods:{input(t){this.$emit("input",t)}},data(){return{editorHeight:212,isChange:!0}},watch:{},mounted(){}},Zt=Et,It=(0,r.Z)(Zt,wt,xt,!1,null,"14045135",null),St=It.exports,Pt=function(){var t=this,e=t._self._c;return e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("卡片名称")]),e("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[t._v("操作按钮")])],1),t._l(4,(function(i){return e("div",{key:i,staticClass:"text item"},[t._v(" "+t._s("列表内容 "+i)+" ")])}))],2)},Vt=[],Lt={name:"cardVue"},Gt=Lt,At=(0,r.Z)(Gt,Pt,Vt,!1,null,"6bc79946",null),Ot=At.exports,Rt={components:{card:Ot,richText:St,echartsVue:kt,imageVue:mt},props:{data:{type:Object,default:()=>{}},propKey:{type:String,default:""},propIndex:{type:Number}},computed:{chooseElementKey(){return this.$store.state.formDesign.chooseElementKey},elementMargin(){return this.$store.state.formDesign.elementMargin}},methods:{deleteItem(){this.$emit("delete-item"),this.data.key===this.chooseElementKey&&(this.$store.commit("formDesign/updateElementKey",""),this.$EventBus.$emit("chooseElement",null)),this.dialogVisible=!1},chooseElement(){this.$store.commit("formDesign/updateElementKey",this.data.key),this.$EventBus.$emit("chooseElement",this.data)},canMove(){this.$emit("changeDisabled",!1)},input(t){this.$emit("changeDisabled",t)}},data(){return{dialogVisible:!1}}},Nt=Rt,Tt=(0,r.Z)(Nt,at,rt,!1,null,"2190b2f5",null),Bt=Tt.exports,Wt={components:{draggable:V(),GridCell:Bt},props:{propKey:{type:String,default:""},propData:{type:Object,default:()=>{}}},data(){return{data:{},disabled:!1}},methods:{log:function(t){console.log("FDGridPanel"),window.console.log(t),this.$emit("update",this.data),this.$EventBus.$emit("addCell")},syncList(t,e){let i=(0,g.Z)(this.data);console.log("formList",i),this.$emit("syncList",i)},deleteItem(t,e){t.list.splice(e,1),this.$emit("update",this.data)},update(t){this.data=t},changeDisabled(t){this.disabled=t}},watch:{propData:{handler:function(t){this.data=t},deep:!0,immediate:!0}},mounted(){this.data=this.propData}},zt=Wt,Mt=(0,r.Z)(zt,lt,nt,!1,null,"7967eb50",null),Dt=Mt.exports,jt={components:{GridPanel:Dt},props:{data:{type:Object,default:()=>{}},index:{type:Number}},data(){return{popoverShow:!1,dialogVisible:!1}},computed:{chooseGridKey(){return this.$store.state.formDesign.chooseGridKey}},methods:{syncList(t){this.$emit("syncList",t)},deletePanel(){this.$emit("delete-panel"),this.dialogVisible=!1},update(t){this.$emit("update",{data:t,index:this.index}),this.chooseGridKey===this.data.key&&this.$EventBus.$emit("updateGrid",t)},chooseGrid(){console.log("点击了chooseGrid",this.data),this.$emit("choose-grid",this.data)},addGrid(t,e){this.$emit("add-grid",{index:t,length:e}),this.popoverShow=!1}}},Qt=jt,Kt=(0,r.Z)(Qt,ot,st,!1,null,"dced9bc0",null),Ut=Kt.exports,Jt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"preview"},[e("draggable",{attrs:{list:t.list,animation:"200",disabled:!0}},[t._l(t.list,(function(i,o){return e("div",{key:o},[e("el-row",{attrs:{gutter:10}},t._l(i.cols,(function(i,o){return e("el-col",{key:o,staticClass:"col",attrs:{span:i.span}},[e("draggable",{staticClass:"dragArea",class:{"empty-drag":!i.list.length},attrs:{disabled:!0,list:i.list,group:{name:"form-design-inner"},animation:"200"}},[t._l(i.list,(function(i,o){return e("div",{key:o,staticClass:"cell",style:{"margin-bottom":t.elementMargin+"px",border:i.options.border?"none":"1px solid rgba(0, 0, 0, 0.1)"}},[e("div",[i.options.hiddenTitle?t._e():e("div",{staticClass:"grey",style:{backgroundColor:i.options.backgroundColor,color:i.options.color}},[e("span",[t._v(t._s(i.options.title))])]),e("div",{staticClass:"content",style:{height:i.options.isAutoHeight?"fit-content":i.options.height+"px",overflow:i.options.overflowShow?"auto":"hidden"}},["richText"===i.type?e("rich-text",{attrs:{options:i.options,"is-view":!0}}):t._e(),"echarts"===i.type?e("echarts-vue",{attrs:{options:i.options}}):t._e(),"image"===i.type?e("imageVue",{attrs:{options:i.options}}):t._e(),"card"===i.type?e("card"):t._e()],1)])])})),i.list.length?t._e():e("div",{staticClass:"empty",on:{click:function(t){t.stopPropagation()}}},[e("span")])],2)],1)})),1)],1)})),t.list.length?t._e():e("el-empty",{attrs:{description:"拖拽布局控件到这里"}})],2)],1)},Yt=[],_t={name:"previewVue",components:{richText:St,echartsVue:kt,imageVue:mt,card:Ot,draggable:V()},data(){return{list:[],test:""}},props:{propsList:{type:Array,default:()=>{}}},computed:{elementMargin(){return this.$store.state.formDesign.elementMargin}},created(){localStorage.getItem("formList")?this.list=JSON.parse(localStorage.getItem("formList")):this.list=[],this.propsList&&this.propsList.length&&(this.list=(0,g.Z)(this.propsList))}},Ht=_t,Xt=(0,r.Z)(Ht,Jt,Yt,!1,null,"fc986e5c",null),Ft=Xt.exports,qt={props:{formAttr:{type:Object,default:function(){return{align:"top",size:"medium",labelWidth:80}}},localList:{type:Array,default:function(){return[]}}},components:{draggable:V(),Cell:Ut,preview:Ft},data(){return{previewVisible:!1,list:[],originList:[]}},methods:{syncList(t){this.list=(0,g.Z)(t)},log(t){console.log(t,"e"),console.log(this.list,"this.list");let e=(0,g.Z)(this.list);this.originList=(0,g.Z)(this.list),this.syncList(e),t.added&&this.$EventBus.$emit("addCell",t.added.element),this.$forceUpdate()},addGrid({index:t,length:e}){let i={title:"一列",type:"grid",icon:"el-icon-s-grid",cols:[],code:"grid",key:(0,X.Z)()};for(let o=0;o<e;o++)i.cols.push({span:24/e,list:[]});this.list.splice(t+1,0,i),this.originList=(0,g.Z)(this.list)},deletePanel(t){this.list.splice(t,1),this.originList=(0,g.Z)(this.list)},update({data:t,index:e}){this.$set(this.list,e,t),this.originList=(0,g.Z)(this.list)},clear(){this.list=[],this.originList=[]},chooseGrid(t){this.list.forEach((e=>{e.key===t.key&&this.$store.commit("formDesign/updateGridKey",e.key)})),this.$EventBus.$emit("chooseGrid",t)},setColorToAll({backgroundColor:t,color:e}){this.list.forEach((i=>{i.cols.forEach((i=>{i.list.forEach((i=>{this.$set(i.options,"backgroundColor",t),this.$set(i.options,"color",e)}))}))}))},viewPreview(){this.previewVisible=!0}},filters:{labelWidth(t){return`${t}px`}},watch:{localList:{handler:function(t){t.length&&(this.list=(0,g.Z)(t),this.originList=(0,g.Z)(t))},immediate:!0}},mounted(){this.$EventBus.$on("chooseElement",(()=>{this.chooseGridKey=""}))},beforeDestroy(){this.$EventBus.$off("chooseElement")}},$t=qt,te=(0,r.Z)($t,et,it,!1,null,"2db0a352",null),ee=te.exports,ie={components:{mainSidebar:tt,mainContent:ee},data(){return{clearShow:!1,localList:[],dialogVisible:!1,tabIndex:"0",saveData:{code:"",content:"",name:"",remarks:""},id:"",elementMargin:0}},methods:{setColorToAll({backgroundColor:t,color:e}){this.$refs.panel.setColorToAll({backgroundColor:t,color:e})},save(){localStorage.setItem("formList",JSON.stringify(this.$refs.panel.list)),this.$message({message:"保存成功",type:"success"})},clear(){localStorage.getItem("formList")&&localStorage.removeItem("formList"),this.$refs.panel.clear(),this.$message({message:"清除成功",type:"success"}),this.clearShow=!1},showDialog(){this.elementMargin=this.$store.state.formDesign.elementMargin,this.dialogVisible=!0},changeMargin(){this.$store.commit("formDesign/updateElementMargin",this.elementMargin),this.dialogVisible=!1},toPreview(){this.$refs.panel.viewPreview()}},mounted(){localStorage.getItem("formList")&&(this.localList=JSON.parse(localStorage.getItem("formList")),console.log(this.localList))},filters:{labelWidth(t){return`${t}px`}}},oe=ie,se=(0,r.Z)(oe,E,Z,!1,null,"b9b2ce40",null),le=se.exports,ne={components:{DragArea:le},data(){return{interview:"",interviewVisible:!1,interviewList:[{time:"2020-11-24 10:00",headPath:"https://img0.baidu.com/it/u=3121974779,1726178990&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",message:"<div>这是一条评论这是一条评论这是一条评论这是一条评论这是一条评论这是一条评论这是一条评论</div>",flow:"in"},{headPath:"https://img0.baidu.com/it/u=3121974779,1726178990&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",time:"2020-11-24 10:00",message:"<div>这是一条评论这是一条评论这是一条评论这是一条评论这是一条评论这是一条评论这是一条评论这是一条评论这是一条评论</div>",flow:"out"},{headPath:"https://img0.baidu.com/it/u=3121974779,1726178990&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",time:"2020-11-24 10:00",message:"<div>这是一条评论这是一条评论这是一条评论这是一条评论这是一条评论这是一条评论这是一条评论这是一条评论</div>",flow:"in"}],htmlTitle:"周报",nowDate:"",drawer:!1,form:{title:"",fileList:[]}}},methods:{submit(){this.form.title?(console.log(this.form),this.$refs.drag.save(),this.nowDate=(new Date).toLocaleDateString(),this.drawer=!0):this.$message.error("请填写周报标题")},exportDataToPDF(){const t=document.getElementById("pdfDom");x()(t).then((t=>{const e=t.toDataURL("image/png"),i=new k.ZP,o=i.getImageProperties(e),s=i.internal.pageSize.getWidth(),l=o.height*s/o.width;i.addImage(e,"PNG",0,0,s,l);const n=this.form.title+".pdf";i.save(n)}))},submitPreview(){this.interviewList.push({time:(new Date).toLocaleDateString(),headPath:"https://img0.baidu.com/it/u=3121974779,1726178990&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",message:this.interview,flow:"out"}),this.interview="",this.interviewVisible=!1}}},ae=ne,re=(0,r.Z)(ae,y,C,!1,null,"2c97d3fc",null),ce=re.exports;const de=[{path:"/",component:ce}];var ue=de,pe=i(2631),he={install(t,e){t.prototype.getPdf=function(){var t=this.htmlTitle;x()(document.body,{useCORS:!0,allowTaint:!0,dpi:300,async:!1,foreignObjectRendering:!0}).then((function(e){let i=e.width,o=e.height,s=i/592.28*841.89,l=o,n=0,a=595.28,r=592.28/i*o,c=e.toDataURL("image/jpeg",1),d=new k.ZP("","pt","a4");if(l<s)d.addImage(c,"JPEG",0,0,a,r);else while(l>0)d.addImage(c,"JPEG",20,n,a,r),l-=s,n-=841.89,l>0&&d.addPage();d.save(t+".pdf")}))}}},me=i(1076);o["default"].config.productionTip=!1,o["default"].use(p()),o["default"].use(pe.Z),o["default"].use(he),o["default"].prototype.$EventBus=new o["default"],o["default"].prototype.$contextPath=m.getContextPath,o["default"].prototype.$extend=function(){return Object.assign({},...arguments)},o["default"].prototype.$axios=me.Z;const fe=new pe.Z({mode:"hash",routes:ue});new o["default"]({render:t=>t(d),store:b,router:fe}).$mount("#app")}},e={};function i(o){var s=e[o];if(void 0!==s)return s.exports;var l=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(l.exports,l,l.exports,i),l.loaded=!0,l.exports}i.m=t,function(){i.amdO={}}(),function(){var t=[];i.O=function(e,o,s,l){if(!o){var n=1/0;for(d=0;d<t.length;d++){o=t[d][0],s=t[d][1],l=t[d][2];for(var a=!0,r=0;r<o.length;r++)(!1&l||n>=l)&&Object.keys(i.O).every((function(t){return i.O[t](o[r])}))?o.splice(r--,1):(a=!1,l<n&&(n=l));if(a){t.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[o,s,l]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};i.t=function(o,s){if(1&s&&(o=this(o)),8&s)return o;if("object"===typeof o&&o){if(4&s&&o.__esModule)return o;if(16&s&&"function"===typeof o.then)return o}var l=Object.create(null);i.r(l);var n={};t=t||[null,e({}),e([]),e(e)];for(var a=2&s&&o;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((function(t){n[t]=function(){return o[t]}}));return n["default"]=function(){return o},i.d(l,n),l}}(),function(){i.d=function(t,e){for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,o){return i.f[o](t,e),e}),[]))}}(),function(){i.u=function(t){return"js/"+t+"."+{297:"c20c9a6e",617:"ff910b25"}[t]+".js"}}(),function(){i.miniCssF=function(t){}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="tang:";i.l=function(o,s,l,n){if(t[o])t[o].push(s);else{var a,r;if(void 0!==l)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==e+l){a=u;break}}a||(r=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",e+l),a.src=o),t[o]=[s];var p=function(e,i){a.onerror=a.onload=null,clearTimeout(h);var s=t[o];if(delete t[o],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((function(t){return t(i)})),e)return e(i)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),r&&document.head.appendChild(a)}}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){i.p="/"}(),function(){var t={143:0};i.f.j=function(e,o){var s=i.o(t,e)?t[e]:void 0;if(0!==s)if(s)o.push(s[2]);else{var l=new Promise((function(i,o){s=t[e]=[i,o]}));o.push(s[2]=l);var n=i.p+i.u(e),a=new Error,r=function(o){if(i.o(t,e)&&(s=t[e],0!==s&&(t[e]=void 0),s)){var l=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;a.message="Loading chunk "+e+" failed.\n("+l+": "+n+")",a.name="ChunkLoadError",a.type=l,a.request=n,s[1](a)}};i.l(n,r,"chunk-"+e,e)}},i.O.j=function(e){return 0===t[e]};var e=function(e,o){var s,l,n=o[0],a=o[1],r=o[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(s in a)i.o(a,s)&&(i.m[s]=a[s]);if(r)var d=r(i)}for(e&&e(o);c<n.length;c++)l=n[c],i.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return i.O(d)},o=self["webpackChunktang"]=self["webpackChunktang"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=i.O(void 0,[998],(function(){return i(4025)}));o=i.O(o)})();
//# sourceMappingURL=app.ad0af566.js.map